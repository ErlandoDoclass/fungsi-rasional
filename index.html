<!DOCTYPE html>
<html lang="id">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ATMATH - Fungsi Rasional Interaktif</title>
    <link
      href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css"
      rel="stylesheet"
    />
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
      body {
        background-color: #0a0a0a;
        color: white;
      }
    </style>
  </head>
  <body class="font-sans">
    <header class="bg-black py-6 text-center">
      <h1 class="text-3xl font-bold text-green-400">
        ATMATH - Fungsi Rasional Interaktif
      </h1>
      <p class="text-gray-400">
        Masukkan kartu, tarik soal, scan QR, dan pelajari!
      </p>
    </header>

    <div
      id="atm-entry"
      class="transition-opacity duration-700 opacity-100 flex justify-center items-center h-screen bg-black fixed inset-0 z-50"
    >
      <div class="text-center">
        <img
          src="https://i.imgur.com/wUqF6qx.png"
          alt="Kartu ATM"
          class="w-40 animate-bounce mx-auto"
        />
        <p class="text-green-400 mt-4 text-lg">🎴 Tarik kartu untuk mulai!</p>
        <button
          onclick="startATM()"
          class="mt-4 px-4 py-2 bg-green-500 hover:bg-green-600 text-white rounded shadow-md"
        >
          Masukkan Kartu
        </button>
      </div>
    </div>

    <main class="p-6 max-w-4xl mx-auto">
      <!-- Pembahasan Asimtot -->
      <section id="asimtot" class="mb-10">
        <h2 class="text-2xl font-semibold text-blue-400 mb-4">
          📌 Apa itu Asimtot?
        </h2>
        <p class="mb-4">
          Asimtot adalah garis yang didekati grafik fungsi tetapi tidak pernah
          disentuh. Ada dua jenis utama dalam fungsi rasional:
          <strong>asimtot tegak</strong> dan <strong>asimtot mendatar</strong>.
        </p>
        <ul class="list-disc list-inside text-gray-300">
          <li>🔹 <strong>Tegak:</strong> ketika penyebut = 0</li>
          <li>
            🔹 <strong>Mendatar:</strong> tergantung derajat pembilang dan
            penyebut
          </li>
        </ul>
      </section>

      <!-- Soal & Pembahasan -->
      <section id="pembahasan" class="mb-10">
        <h2 class="text-2xl font-semibold text-yellow-300 mb-4">
          🔍 Contoh Soal & Pembahasan
        </h2>
        <p class="mb-2">
          <strong>Soal:</strong> Tentukan asimtot tegak dan mendatar dari fungsi
          <code>f(x) = (2x + 1)/(x - 3)</code>
        </p>
        <p class="text-green-300">🔑 <strong>Pembahasan:</strong></p>
        <ul class="list-decimal list-inside text-gray-300">
          <li>
            Penyebut = 0 jika <code>x - 3 = 0</code> →
            <strong>x = 3</strong> (Asimtot tegak)
          </li>
          <li>
            Derajat pembilang = derajat penyebut → lihat koefisien →
            <strong>y = 2</strong> (Asimtot mendatar)
          </li>
        </ul>
      </section>

      <!-- Grafik Interaktif -->
      <section class="mb-10">
        <h2 class="text-2xl font-semibold text-purple-400 mb-4">
          📈 Grafik Fungsi f(x) = (2x + 1)/(x - 3)
        </h2>
        <canvas id="myChart" width="400" height="300"></canvas>
      </section>

      <!-- Kuis Mini -->
      <section class="mb-10">
        <h2 class="text-2xl font-semibold text-pink-400 mb-4">🎯 Mini Kuis</h2>
        <p class="mb-2">
          Apa asimtot mendatar dari fungsi
          <code>f(x) = (3x^2 + 2)/(x^2 - 4)</code>?
        </p>
        <select id="quiz-answer" class="text-black p-2 rounded">
          <option value="">Pilih jawaban</option>
          <option value="1">y = 1</option>
          <option value="3">y = 3</option>
          <option value="0">y = 0</option>
        </select>
        <button
          onclick="checkAnswer()"
          class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 ml-2 rounded"
        >
          Cek Jawaban
        </button>
        <p id="result" class="mt-2 text-green-300"></p>
      </section>
    </main>

    <script>
      function startATM() {
        const atm = document.getElementById("atm-entry");
        atm.classList.add("opacity-0");
        setTimeout(() => atm.classList.add("hidden"), 700);
      }

      // Grafik dengan Chart.js
      const ctx = document.getElementById("myChart").getContext("2d");
      const data = {
        labels: Array.from({ length: 100 }, (_, i) => i / 10),
        datasets: [
          {
            label: "f(x) = (2x + 1)/(x - 3)",
            data: Array.from({ length: 100 }, (_, i) => {
              const x = i / 10;
              return x === 3 ? null : (2 * x + 1) / (x - 3);
            }),
            borderColor: "rgba(255, 99, 132, 1)",
            borderWidth: 2,
            fill: false,
          },
        ],
      };
      new Chart(ctx, {
        type: "line",
        data: data,
        options: {
          responsive: true,
          scales: {
            x: { title: { display: true, text: "x" } },
            y: { title: { display: true, text: "f(x)" } },
          },
        },
      });

      // Kuis
      function checkAnswer() {
        const value = document.getElementById("quiz-answer").value;
        const result = document.getElementById("result");
        if (value === "3") {
          result.textContent = "✅ Benar! Karena derajat sama, maka y = 3.";
        } else if (value === "") {
          result.textContent = "Pilih jawaban dulu ya!";
        } else {
          result.textContent = "❌ Salah. Coba cek kembali derajatnya.";
        }
      }
    </script>
  </body>
</html>
